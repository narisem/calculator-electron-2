<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>calculator electronic</title>
    <link rel="stylesheet" href="style.css">
    <!-- <script src="main.js"></script> -->
</head>
<body>
    <input readonly id="operator">
    <input readonly type="number" id="result">
    <div class="row">
        <button id="num-7">7</button>
        <button id="num-8">8</button>
        <button id="num-9">9</button>
        <button id="plus">+</button>
    </div>
    <div class="row">
        <button id="num-4">4</button>
        <button id="num-5">5</button>
        <button id="num-6">6</button>
        <button id="minus">-</button>
    </div>
    <div class="row">
        <button id="num-1">1</button>
        <button id="num-2">2</button>
        <button id="num-3">3</button>
        <button id="divide">/</button>
    </div>
    <div class="row">
        <button id="clear">C</button>
        <button id="num-0">0</button>
        <button id="calculate">=</button>
        <button id="multiply">x</button>
    </div>

    <script>
    let numOne = '';
    let operator  = '';
    let numTwo = '';

    const $operator = document.querySelector('#operator');
    const $result = document.querySelector('#result');

    const onClickNumber = (event) => {
        if (!operator) {
            numOne += event.target.textContent;
            $result.value += event.target.textContent;
            return;
        }
        if (!numTwo){
            $result.value = '';
        } 
            numTwo += event.target.textContent;
            $result.value += event.target.textContent;
        };

    document.querySelector('#num-0').addEventListener('click', onClickNumber);
    document.querySelector('#num-1').addEventListener('click', onClickNumber);
    document.querySelector('#num-2').addEventListener('click', onClickNumber);
    document.querySelector('#num-3').addEventListener('click', onClickNumber);
    document.querySelector('#num-4').addEventListener('click', onClickNumber);
    document.querySelector('#num-5').addEventListener('click', onClickNumber);
    document.querySelector('#num-6').addEventListener('click', onClickNumber);
    document.querySelector('#num-7').addEventListener('click', onClickNumber);
    document.querySelector('#num-8').addEventListener('click', onClickNumber);
    document.querySelector('#num-9').addEventListener('click', onClickNumber);

    const onClickOperator = (op) => () =>  {
        if (numOne) {
            operator = op;
            $operator.value = op;
        } else {
            alert('숫자를 먼저 입력히세요.');
        }
    }

    document.querySelector('#plus').addEventListener('click', onClickOperator('+'));  //+ 꼽하기
    document.querySelector('#minus').addEventListener('click', onClickOperator('-'));  //_ 빼기
    document.querySelector('#divide').addEventListener('click', onClickOperator('/'));  //* 나누기
    document.querySelector('#multiply').addEventListener('click', onClickOperator('*'));  // / 더하기
    document.querySelector('#calculate').addEventListener('click', () => { //계산하기
    if (numTwo) {
        if (operator === '+') {
            $result.value = parseInt(numOne) + parseInt(numTwo);
        } else if (operator === '-') {
            $result.value = parseInt(numOne) - parseInt(numTwo);
        } else if (operator === '*') {
            $result.value = parseInt(numOne) * parseInt(numTwo);
        } else if (operator === '/') {
            $result.value = parseInt(numOne) / parseInt(numTwo);
        }
    } else {
        alert('숫자를 먼저 입력하세요.');
    }
    //     if (numTwo) {
    //     switch (operator) {
    //         case '+':
    //           $result.value = parseInt(numOne) + parseInt(numTwo);
    //           break;
    //         case '-':
    //           $result.value = parseInt(numOne) - parseInt(numTwo);
    //           break;
    //         case '*':
    //           $result.value = parseInt(numOne) * parseInt(numTwo);
    //           break;
    //         case '/':
    //           $result.value = parseInt(numOne) / parseInt(numTwo);
    //           break;
    //         default:
    //           break;
    //       }
    // } else {
    //     alert('숫자를 먼저 입력하세요.');
    // }
    });  //계산하기
    document.querySelector('#clear').addEventListener('click', () => {
    let numOne = '';
    let operator  = '';
    let numTwo = '';
    $operator.value = '';
    $result.value = '';
    });  //C 지우기
    </script>
</body>
</html>
